
<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>OMEGA Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gray: {
                            50: '#f9fafb',
                            100: '#f3f4f6',
                            200: '#e5e7eb',
                            300: '#d1d5db',
                            400: '#9ca3af',
                            500: '#6b7280',
                            600: '#4b5563',
                            700: '#374151',
                            800: '#1f2937',
                            900: '#111827',
                            950: '#0a0a0a'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 50%), 
                        radial-gradient(circle at 80% 20%, rgba(167, 139, 250, 0.15) 0%, transparent 50%), 
                        radial-gradient(circle at 40% 40%, rgba(124, 58, 237, 0.15) 0%, transparent 50%),
                        #0a0a0a;
            color: #f3f4f6;
            min-height: 100vh;
        }

        p, li, span, div {
            color: #d1d5db;
        }

        h1, h2, h3, h4, h5, h6 {
            color: #f3f4f6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: #f3f4f6;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            color: #d1d5db;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3), 0 4px 16px rgba(139, 92, 246, 0.1);
            transition: transform 0.2s, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 48px rgba(0,0,0,0.4), 0 8px 24px rgba(139, 92, 246, 0.2);
        }

        .card h2 {
            /* color: #a78bfa; */
            background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 50%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .pillar-icon {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            /* color: white; */
            font-weight: bold;
            font-size: 0.9rem;
        }

        .exchange { background: rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 0, 0, 0.2); }
        .governance { background: rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 0, 0, 0.2); }
        .access { background: rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 0, 0, 0.2); }

        .architecture {
            grid-column: 1 / -1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3), 0 4px 16px rgba(139, 92, 246, 0.1);
        }

        .architecture-diagram {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .pillar-box {
            padding: 20px;
            border-radius: 12px;
            text-align: left;
            position: relative;
        }

        .pillar-box h3 {
            margin-bottom: 15px;
            /* color: #f3f4f6; */
            color: #a78bfa;
        }

        .pillar-details {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .pillar-details ul {
            list-style: square;
            padding-left: 20px;
            font-size: .75em;
        }

        .pillar-details li {
            margin-bottom: 5px;
        }

        .workflow-demo {
            grid-column: 1 / -1;
        }

        .workflow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .step {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #8b5cf6;
            position: relative;
            color: #f3f4f6;
        }

        .step-number {
            position: absolute;
            top: -10px;
            left: -10px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .policy-demo {
            background: rgba(0, 0, 0, 0.2);
            color: oklch(70.2% 0.183 293.541);
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: .75em;
            margin: 20px 0;
            position: relative;
            border: 1px solid rgba(139, 92, 246, 0.3);
            /* overflow-y: visible;
            overflow-x: scroll */
        }

        .policy-demo::before {
            content: 'REGO POLICY ENGINE';
            position: absolute;
            top: -10px;
            left: 20px;
            background: rgba(0, 0, 0, 0.5);
            padding: 0 10px;
            font-size: 0.8rem;
            color: #8b5cf6;
        }

        .interactive-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3), 0 4px 16px rgba(139, 92, 246, 0.1);
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .controls select {
            padding: 10px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.05);
            color: #f3f4f6;
            backdrop-filter: blur(10px);
        }

        .controls button {
            padding: 10px;
            border-radius: 6px;
            font-size: 1rem;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            backdrop-filter: blur(10px);
        }

        button {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        button:hover {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }

        button:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
        }

        .result-panel {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            min-height: 100px;
            color: #f3f4f6;
        }

        .success { border-left: 4px solid #10b981; }
        .error { border-left: 4px solid #ef4444; }
        .info { border-left: 4px solid #8b5cf6; }

        select, input {
            padding: 10px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.05);
            color: #f3f4f6;
            backdrop-filter: blur(10px);
        }

        select:focus, input:focus {
            outline: none;
            border-color: #8b5cf6;
        }

        .data-flow {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(90deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.5) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 8px;
        }

        .flow-arrow {
            font-size: 2rem;
            color: #8b5cf6;
        }

        .entity {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            min-width: 120px;
            color: #f3f4f6;
        }

        @media (max-width: 768px) {
            .demo-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 1024px) and (min-width: 769px) {
            .demo-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .architecture-diagram {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
            }
        }

        /* Navigation Dropdown Styles */
        .nav-dropdown {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 1000;
        }

        .nav-button {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-button:hover {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
        }

        .nav-arrow {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .nav-button.open .nav-arrow {
            transform: rotate(180deg);
        }

        .nav-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            min-width: 180px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            margin-top: 0.5rem;
        }

        .nav-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .nav-item {
            display: block;
            padding: 0.75rem 1.25rem;
            color: #d1d5db;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            border-radius: 8px;
            margin: 0.25rem;
        }

        .nav-item:first-child {
            margin-top: 0.5rem;
        }

        .nav-item:last-child {
            margin-bottom: 0.5rem;
        }

        .nav-item:hover {
            color: #a78bfa;
            background: rgba(139, 92, 246, 0.1);
            text-decoration: none;
        }

        .nav-item.current {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
        }

        .nav-item.current:hover {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Navigation Dropdown -->
    <div class="nav-dropdown">
        <button class="nav-button" onclick="toggleNavMenu()">
            Protocol
            <span class="nav-arrow">▼</span>
        </button>
        <div class="nav-menu" id="navMenu">
            <a href="../" class="nav-item">Home</a>
            <a href="../problem/" class="nav-item">Problem</a>
            <a href="../strategy/" class="nav-item">Strategy</a>
            <a href="../protocol/" class="nav-item current">Protocol</a>
        </div>
    </div>

    <div class="container">
        <div class="header text-center">
            <h1 class="mb-0 text-center"><img src="../omegalogo.svg" class="inline" width="300" height="auto" title="Omega"></h1>
            <span class="text-sm text-gray-600">Open Market Exchange, Governance & Access</span>
        </div>

        <div class="architecture">
            <h2>
                <svg class="w-6 h-6 inline-block mr-2 text-violet-400" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                </svg>
                Three-Pillar Architecture
            </h2>
            <p>OMEGA separates concerns into three distinct pillars, each with specific responsibilities for data sovereignty and access control.</p>
            
            <div class="architecture-diagram">
                <div class="pillar-box exchange">
                    <h3>
                        <!-- <svg class="w-5 h-5 inline-block mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                        </svg> -->
                        EXCHANGE
                    </h3>
                    <div class="pillar-details">
                        <p class="text-gray-400">Data Plane</p>
                        <ul style="text-align: left; margin-top: 10px;" class="text-gray-400">
                            <li class="text-gray-400">Exchange API</li>
                            <li class="text-gray-400">Data Contracts</li>
                            <li class="text-gray-400">Data Storage</li>
                        </ul>
                    </div>
                </div>
                
                <div class="pillar-box governance">
                    <h3>
                        <!-- <svg class="w-5 h-5 inline-block mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg> -->
                        GOVERNANCE
                    </h3>
                    <div class="pillar-details">
                        <p class="text-gray-400">Central Control</p>
                        <ul style="text-align: left; margin-top: 10px;" class="text-gray-400">
                            <li class="text-gray-400">Identity Management</li>
                            <li class="text-gray-400">Default Policies</li>
                            <li class="text-gray-400">OPA Engine</li>
                        </ul>
                    </div>
                </div>
                
                <div class="pillar-box access">
                    <h3>
                        <!-- <svg class="w-5 h-5 inline-block mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                        </svg> -->
                        ACCESS
                    </h3>
                    <div class="pillar-details">
                        <p class="text-gray-400">Participant Control</p>
                        <ul style="text-align: left; margin-top: 10px;" class="text-gray-400">
                            <li class="text-gray-400">Grant Portal</li>
                            <li class="text-gray-400">Access API</li>
                            <li class="text-gray-400">Custom ACLs</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="demo-grid grid-cols-1 md:grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="card grid-cols-1">
                <h2>
                    <span class="pillar-icon exchange">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                        </svg>
                    </span>
                    Exchange Layer
                </h2>
                <p class="mb-8">The data plane handles all market data through standardized contracts. Every piece of information flows through the Exchange API with strict schema validation.</p>
                
                <div class="policy-demo">
// Example Exchange Data Contract<br>
{<br>
&nbsp;&nbsp;"dealId": "DEAL_2024_001",<br>
&nbsp;&nbsp;"bookrunner": "JPMorganChase",<br>
&nbsp;&nbsp;"issuer": "Tesla_Inc",<br>
&nbsp;&nbsp;"amount": 500000000,<br>
&nbsp;&nbsp;"status": "active"<br>
}
                </div>
            </div>

            <div class="card grid-cols-1">
                <h2>
                    <span class="pillar-icon governance">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                    </span>
                    Governance Layer
                </h2>
                <p class="mb-8">Central policies define market-wide defaults. The OPA engine evaluates every request against these rules plus participant-specific overrides.</p>
                
                <div class="policy-demo">
# Default Market Policy (Rego)<br>
package omega.allocations<br><br>
default allow = false<br><br>
allow {<br>
&nbsp;&nbsp;input.subject.org_id ==<br>
&nbsp;&nbsp;input.resource.bookrunner_org_id<br>
}
                </div>
            </div>

            <div class="card grid-cols-1">
                <h2>
                    <span class="pillar-icon access">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                        </svg>
                    </span>
                    Access Layer
                </h2>
                <p class="mb-8">Participants maintain granular control over their data through Access Control Lists, overriding market defaults when needed.</p>
                
                <div class="policy-demo">
// Custom ACL Override<br>
{<br>
&nbsp;&nbsp;"resource": "DEAL_2024_001",<br>
&nbsp;&nbsp;"type": "allow_list",<br>
&nbsp;&nbsp;"permissions": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;"BlackRock", "Vanguard"<br>
&nbsp;&nbsp;]<br>
}
                </div>
            </div>

            <div class="card" style="grid-column: 1 / -1;">
                <h2>
                    <!-- <svg class="w-6 h-6 inline-block mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg> -->
                    System Diagram
                </h2>
                <p class="text-gray-400">Visual representation of the OMEGA Protocol architecture and data flows.</p>
                
                <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 30px; text-align: center; margin-top: 20px; color: #495057;">
                    <p><strong>OMEGA Protocol System Architecture</strong></p>
                    <p style="margin: 10px 0; font-size: 0.9rem; color: #6c757d;">
                        <img src="https://github.com/VMGVentures/deck-assets/blob/main/image-04.png?raw=true" alt="OMEGA Protocol System Architecture" width="100%" style="width: auto; max-height: 750px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    </p>
                </div>
            </div>

            <div class="card workflow-demo">
                <h2>
                    <!-- <svg class="w-6 h-6 inline-block mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 4l1.41 1.41L16.17 8.5 14.75 9.91 12 7.17 9.25 9.91 7.83 8.5l2.76-2.59L12 4zm0 16l-1.41-1.41L7.83 15.5 9.25 14.09 12 16.83l2.75-2.74 1.42 1.41-2.76 2.59L12 20z"/>
                    </svg> -->
                    Authorization Workflow
                </h2>
                <p class="text-gray-400">See how a third-party application gets authorized to access OMEGA data through the FDX Consent Grant Flow.</p>
                
                <div class="workflow-steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h4>App Initiation</h4>
                        <p>User clicks "Connect to OMEGA" in SyndicatePro</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h4>Redirect</h4>
                        <p>Redirect to OMEGA Access Grant Portal</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h4>Consent</h4>
                        <p>User reviews and grants permissions</p>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <h4>Authorization</h4>
                        <p>App receives access token</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card interactive-section">
            <h2 class="text-xl mb-4">
                <!-- <svg class="w-6 h-6 inline-block mr-2 text-violet-400" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M21,6H3A3,3 0 0,0 0,9V15A3,3 0 0,0 3,18H21A3,3 0 0,0 24,15V9A3,3 0 0,0 21,6M21,16H3A1,1 0 0,1 2,15V9A1,1 0 0,1 3,8H21A1,1 0 0,1 22,9V15A1,1 0 0,1 21,16M7,13A1,1 0 0,0 8,12A1,1 0 0,0 7,11A1,1 0 0,0 6,12A1,1 0 0,0 7,13M17,13A1,1 0 0,0 18,12A1,1 0 0,0 17,11A1,1 0 0,0 16,12A1,1 0 0,0 17,13Z"/>
                </svg> -->
                Interactive Policy Demo
            </h2>
            <p class="text-gray-400 mb-8">Test how OMEGA's policy engine evaluates access requests based on different scenarios.</p>
            
            <div class="controls mb-8">
                <select id="organization">
                    <option value="JPMorganChase">JPMorgan Chase (Bookrunner)</option>
                    <option value="BlackRock">BlackRock (Buy-side)</option>
                    <option value="Vanguard">Vanguard (Buy-side)</option>
                    <option value="Fidelity">Fidelity (Unauthorized)</option>
                </select>
                
                <select id="action">
                    <option value="read">Read Deal Data</option>
                    <option value="write">Write Allocation</option>
                    <option value="create">Create New Deal</option>
                </select>
                
                <select id="resource">
                    <option value="DEAL_2024_001">Tesla Bond Deal (Private)</option>
                    <option value="DEAL_2024_002">Apple Bond Deal (Public)</option>
                </select>
                
                <button onclick="evaluatePolicy()">Evaluate Access</button>
                <button onclick="simulateWorkflow()">Simulate Workflow</button>
            </div>
            
            <div id="result" class="result-panel mb-8">
                Select an organization, action, and resource to test the policy engine...
            </div>
            
            <div id="workflow-visual" style="display: none;">
                <h3 class="mt-8">Data Flow Visualization</h3>
                <div class="data-flow">
                    <div class="entity">
                        <strong>Application</strong><br>
                        <span id="app-name">SyndicatePro</span>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="entity">
                        <strong>OPA Engine</strong><br>
                        <span id="policy-result">Evaluating...</span>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="entity">
                        <strong>Exchange API</strong><br>
                        <span id="api-result">Pending...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock data for the demo
        const dealData = {
            'DEAL_2024_001': {
                name: 'Tesla Bond Deal',
                bookrunner: 'JPMorganChase',
                status: 'private',
                allowList: ['BlackRock', 'Vanguard'],
                amount: 500000000
            },
            'DEAL_2024_002': {
                name: 'Apple Bond Deal',
                bookrunner: 'GoldmanSachs',
                status: 'public',
                allowList: null,
                amount: 1000000000
            }
        };

        const organizations = {
            'JPMorganChase': { type: 'bank', permissions: ['create', 'read', 'write'] },
            'BlackRock': { type: 'buyside', permissions: ['read'] },
            'Vanguard': { type: 'buyside', permissions: ['read'] },
            'Fidelity': { type: 'buyside', permissions: ['read'] }
        };

        function evaluatePolicy() {
            const org = document.getElementById('organization').value;
            const action = document.getElementById('action').value;
            const resource = document.getElementById('resource').value;
            const resultDiv = document.getElementById('result');
            
            const deal = dealData[resource];
            const orgData = organizations[org];
            
            let result = {
                allowed: false,
                reason: '',
                className: 'error'
            };
            
            // Simulate OPA policy evaluation
            if (action === 'create' && orgData.type !== 'bank') {
                result.reason = 'DENIED: Only banks can create deals';
            } else if (deal.bookrunner === org) {
                result.allowed = true;
                result.reason = 'ALLOWED: Bookrunner has full access';
                result.className = 'success';
            } else if (deal.status === 'private' && deal.allowList && !deal.allowList.includes(org)) {
                result.reason = 'DENIED: Not in deal allow list';
            } else if (deal.status === 'public' && action === 'read') {
                result.allowed = true;
                result.reason = 'ALLOWED: Public deal, read access';
                result.className = 'success';
            } else if (action === 'write' && orgData.type !== 'bank') {
                result.reason = 'DENIED: Only bookrunner can write allocations';
            } else if (deal.allowList && deal.allowList.includes(org) && action === 'read') {
                result.allowed = true;
                result.reason = 'ALLOWED: In custom ACL allow list';
                result.className = 'success';
            } else {
                result.reason = 'DENIED: Default policy blocks access';
            }
            
            resultDiv.className = `result-panel ${result.className}`;
            resultDiv.innerHTML = `
                <h3>${result.allowed ? '✅ ACCESS GRANTED' : '❌ ACCESS DENIED'}</h3>
                <p><strong>Organization:</strong> ${org}</p>
                <p><strong>Action:</strong> ${action}</p>
                <p><strong>Resource:</strong> ${deal.name}</p>
                <p><strong>Policy Decision:</strong> ${result.reason}</p>
                <div style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.1); border-radius: 6px;">
                    <strong>Policy Evaluation Path:</strong><br>
                    1. Check if user is bookrunner → ${deal.bookrunner === org ? 'YES' : 'NO'}<br>
                    2. Check deal status → ${deal.status.toUpperCase()}<br>
                    3. Check custom ACL → ${deal.allowList ? `[${deal.allowList.join(', ')}]` : 'None'}<br>
                    4. Apply default market policy → ${result.allowed ? 'ALLOW' : 'DENY'}
                </div>
            `;
        }

        function simulateWorkflow() {
            const workflowDiv = document.getElementById('workflow-visual');
            const appName = document.getElementById('app-name');
            const policyResult = document.getElementById('policy-result');
            const apiResult = document.getElementById('api-result');
            
            workflowDiv.style.display = 'block';
            
            // Simulate workflow steps
            appName.textContent = 'SyndicatePro';
            policyResult.textContent = 'Evaluating...';
            apiResult.textContent = 'Pending...';
            
            setTimeout(() => {
                policyResult.textContent = 'Policy Check OK';
                policyResult.style.color = '#28a745';
            }, 1000);
            
            setTimeout(() => {
                apiResult.textContent = 'Data Retrieved';
                apiResult.style.color = '#28a745';
            }, 2000);
            
            setTimeout(() => {
                alert('Workflow Complete! The application successfully accessed OMEGA data through the three-pillar architecture.');
            }, 2500);
        }

        // Initialize with a default evaluation
        document.addEventListener('DOMContentLoaded', function() {
            evaluatePolicy();
        });

        function toggleNavMenu() {
            const navButton = document.querySelector('.nav-button');
            const navMenu = document.getElementById('navMenu');
            
            navButton.classList.toggle('open');
            navMenu.classList.toggle('open');
        }

        // Close navigation menu when clicking outside
        document.addEventListener('click', function(event) {
            const navDropdown = document.querySelector('.nav-dropdown');
            if (!navDropdown.contains(event.target)) {
                const navButton = document.querySelector('.nav-button');
                const navMenu = document.getElementById('navMenu');
                navButton.classList.remove('open');
                navMenu.classList.remove('open');
            }
        });
    </script>
</body>
</html>